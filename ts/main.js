(()=>{function B(c){let i=c&&c.colors||["#D61C59","#E7D84B","#1B8798"],r=c&&c.element,t=r||document.body,e=window.innerWidth,a=window.innerHeight,h={x:e/2,y:e/2},d={x:e/2,y:e/2},l=[],g=[],o,A,w,p=window.matchMedia("(prefers-reduced-motion: reduce)");function v(){if(p.matches)return console.log("This browser has prefers reduced motion turned on, so the cursor did not init"),!1;o=document.createElement("canvas"),A=o.getContext("2d"),o.style.top="0px",o.style.left="0px",o.style.pointerEvents="none",r?(o.style.position="absolute",t.appendChild(o),o.width=t.clientWidth,o.height=t.clientHeight):(o.style.position="fixed",t.appendChild(o),o.width=e,o.height=a),A.font="21px serif",A.textBaseline="middle",A.textAlign="center",i.forEach((n=>{let s=A.measureText("*"),u=document.createElement("canvas"),m=u.getContext("2d");u.width=s.width,u.height=s.actualBoundingBoxAscent+s.actualBoundingBoxDescent,m.fillStyle=n,m.textAlign="center",m.font="21px serif",m.textBaseline="middle",m.fillText("*",u.width/2,s.actualBoundingBoxAscent),g.push(u)})),t.addEventListener("mousemove",E),t.addEventListener("touchmove",f,{passive:!0}),t.addEventListener("touchstart",f,{passive:!0}),window.addEventListener("resize",x),C()}function x(n){e=window.innerWidth,a=window.innerHeight,r?(o.width=t.clientWidth,o.height=t.clientHeight):(o.width=e,o.height=a)}function f(n){if(n.touches.length>0)for(let s=0;s<n.touches.length;s++)M(n.touches[s].clientX,n.touches[s].clientY,g[Math.floor(Math.random()*g.length)])}function E(n){window.requestAnimationFrame((()=>{if(r){let s=t.getBoundingClientRect();h.x=n.clientX-s.left,h.y=n.clientY-s.top}else h.x=n.clientX,h.y=n.clientY;Math.hypot(h.x-d.x,h.y-d.y)>1.5&&(M(h.x,h.y,g[Math.floor(Math.random()*i.length)]),d.x=h.x,d.y=h.y)}))}function M(n,s,u){l.push(new S(n,s,u))}function C(){(function(){if(l.length!=0){A.clearRect(0,0,e,a);for(let n=0;n<l.length;n++)l[n].update(A);for(let n=l.length-1;n>=0;n--)l[n].lifeSpan<0&&l.splice(n,1);l.length==0&&A.clearRect(0,0,e,a)}})(),w=requestAnimationFrame(C)}function L(){o.remove(),cancelAnimationFrame(w),t.removeEventListener("mousemove",E),t.removeEventListener("touchmove",f),t.removeEventListener("touchstart",f),window.addEventListener("resize",x)}function S(n,s,u){let m=Math.floor(30*Math.random()+60);this.initialLifeSpan=m,this.lifeSpan=m,this.velocity={x:(Math.random()<.5?-1:1)*(Math.random()/2),y:.7*Math.random()+.9},this.position={x:n,y:s},this.canv=u,this.update=function(R){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.lifeSpan--,this.velocity.y+=.02;let y=Math.max(this.lifeSpan/this.initialLifeSpan,0);R.drawImage(this.canv,this.position.x-this.canv.width/2*y,this.position.y-this.canv.height/2,this.canv.width*y,this.canv.height*y)}}return p.onchange=()=>{p.matches?L():v()},v(),{destroy:L}}window.addEventListener("load",c=>{new B});document.addEventListener("DOMContentLoaded",function(){let c="retro_hit_counter",i=localStorage.getItem(c);i?i=(parseInt(i)+Math.floor(Math.random()*5)+1).toString():i=(Math.floor(Math.random()*4e4)+1e4).toString(),localStorage.setItem(c,i);let r=i.padStart(6,"0"),t=document.createElement("canvas"),e=t.getContext("2d");if(!e)return;let a=120,h=30;t.width=a,t.height=h,e.fillStyle="#000000",e.fillRect(0,0,a,h),e.strokeStyle="#808080",e.lineWidth=4,e.strokeRect(0,0,a,h),e.font='bold 22px "Courier New", monospace',e.fillStyle="#FF0000",e.textAlign="center",e.textBaseline="middle",e.fillText(r,a/2,h/2+2);let d=document.createElement("img");d.src=t.toDataURL("image/png"),d.alt="Besucherz\xE4hler",d.title="Sie sind Besucher Nr. "+r;let l=document.getElementById("hit-counter");l&&l.appendChild(d)});document.addEventListener("DOMContentLoaded",function(){let c=window.AudioContext||window.webkitAudioContext;if(!c)return;let i=new c;function r(){i.state==="suspended"&&i.resume();let t=i.createOscillator(),e=i.createGain();t.type="square",t.frequency.setValueAtTime(800,i.currentTime),t.frequency.exponentialRampToValueAtTime(100,i.currentTime+.15),e.gain.setValueAtTime(.1,i.currentTime),e.gain.exponentialRampToValueAtTime(.001,i.currentTime+.1),t.connect(e),e.connect(i.destination),t.start(),t.stop(i.currentTime+.15)}document.addEventListener("mousedown",function(t){let e=t.target;(e.closest("a")||e.closest("button")||e.tagName==="BUTTON")&&r()})});})();
